
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Arbre de compétences</title>

    <style>
	
	.node {
		cursor: pointer;
	}
	.node circle {
	  fill: #fff;
	  stroke: steelblue;
	  stroke-width: 3px;
	}
	.node text {
	  font: 12px sans-serif;
	}
	.link {
	  fill: none;
	  stroke: #ccc;
	  stroke-width: 2px;
	}
	
    </style>

  </head>

  <body>
<!-- load the d3.js library -->	
<script src="http://d3js.org/d3.v3.min.js"></script>
	
<script>
var treeData = [
{"name":"",
"parent":"null",
"children":[{"name":"R",
"parent":"",
"children":[{"name":"minutieux",
"parent":"R",
"children":[{"name":"fleuristes",
"parent":"minutieux",
"children":[{"name":"Planter, entretenir des arbres, des fleurs ou cultiver le sol",
"parent":"fleuristes",
"percent":"inconnu"},{"name":"Technicien/Technicienne du meuble et du bois ouvré (ébéniste)",
"parent":"fleuristes",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"Effectuer des travaux de peinture",
"parent":"minutieux",
"percent":"inconnu"},{"name":"Travailler avec des outils tels que tournevis, ciseaux, pince, etc",
"parent":"minutieux",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"pratique",
"parent":"R",
"children":[{"name":"Travailler avec des animaux et en prendre soin",
"parent":"pratique",
"color":"#00FF00",
"percent":"100%"},{"name":"J'aime les choses matérielles, concrètes",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je suis porté/e à ménager et à prendre soin de mes biens",
"parent":"pratique",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"industriels",
"parent":"R",
"children":[{"name":"conducteur",
"parent":"industriels",
"children":[{"name":"Mon habilité à conduire un gros véhicule (camion, autobus)",
"parent":"conducteur",
"percent":"inconnu"},{"name":"Ma capacité à soulever des poids lourds",
"parent":"conducteur",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"publicité",
"parent":"industriels",
"children":[{"name":"Réparateur/Réparatrice de télévision",
"parent":"publicité",
"percent":"inconnu"},{"name":"Effectuer des réparations électriques ou électroniques",
"parent":"publicité",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"mécanicien",
"parent":"industriels",
"children":[{"name":"mécanicien",
"parent":"mécanicien",
"children":[{"name":"Réparer des automobiles",
"parent":"mécanicien",
"percent":"inconnu"},{"name":"Mécanicien/Mécanicienne d'auto",
"parent":"mécanicien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Travailler avec de la machinerie",
"parent":"mécanicien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"électricien",
"parent":"industriels",
"children":[{"name":"conducteur",
"parent":"électricien",
"children":[{"name":"Conducteur/Conductrice d'autobus",
"parent":"conducteur",
"percent":"inconnu"},{"name":"Couturier/Couturière en usine",
"parent":"conducteur",
"percent":"inconnu"},{"name":"Technicien/Technicienne dentaire",
"parent":"conducteur",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"plombier",
"parent":"électricien",
"children":[{"name":"Entretenir ou réparer de la plomberie ou des systèmes de ventilation",
"parent":"plombier",
"percent":"inconnu"},{"name":"Plombier/Plombière",
"parent":"plombier",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Faire des déménagements",
"parent":"électricien",
"percent":"inconnu"},{"name":"Eleveur/Eleveuse de bétails",
"parent":"électricien",
"percent":"inconnu"},{"name":"Technicien/Technicienne en mécanique du bâtiment",
"parent":"électricien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Travailler à l'extérieur (exposer à la pluie, au soleil, au froid)",
"parent":"industriels",
"percent":"inconnu"},{"name":"Technicien/Technicienne en aménagement de la faune",
"parent":"industriels",
"percent":"inconnu"},{"name":"Travailleur/Travailleuse de la construction (menuiserie)",
"parent":"industriels",
"percent":"inconnu"},{"name":"Ma capacité à m'occuper d'élevage d'animaux",
"parent":"industriels",
"percent":"inconnu"},{"name":"Conduire un camion ou un tracteur",
"parent":"industriels",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"cuisinier",
"parent":"R",
"children":[{"name":"Préparer des repas, des banquets",
"parent":"cuisinier",
"color":"#FF0000",
"percent":"0%"},{"name":"Cuisinier/Cuisinière",
"parent":"cuisinier",
"percent":"inconnu"},{"name":"Horloger/Horlogère",
"parent":"cuisinier",
"percent":"inconnu"},{"name":"Faire de la couture",
"parent":"cuisinier",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"sensible",
"parent":"R",
"children":[{"name":"enfance",
"parent":"sensible",
"children":[{"name":"Dans mon travail ou autres, je me montre persistant/e",
"parent":"enfance",
"color":"#00FF00",
"percent":"100%"},{"name":"Je suis stable dans mes opinions, ma façon de vivre, mes amitiés",
"parent":"enfance",
"percent":"inconnu"},{"name":"Avec mon entourage, je suis franc/he et sincère",
"parent":"enfance",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Je démontre un esprit d'équipe pratique et je préfère agir plutôt que placoter",
"parent":"sensible",
"percent":"inconnu"},{"name":"Je me présente toujours au naturel, tel que je suis",
"parent":"sensible",
"percent":"inconnu"},{"name":"Fabriquer des objets avec du bois",
"parent":"sensible",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"juridique",
"parent":"R",
"children":[{"name":"technicien",
"parent":"juridique",
"children":[{"name":"Suivre un cours de dessin mécanique",
"parent":"technicien",
"percent":"inconnu"},{"name":"Technicien/Technicienne en entretien d'aéronefs",
"parent":"technicien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"lecteur",
"parent":"juridique",
"children":[{"name":"Généralement, j'évite de me faire remarquer",
"parent":"lecteur",
"percent":"inconnu"},{"name":"Je suis d'un naturel réservé, pour savoir mon opinion, on doit me le demander",
"parent":"lecteur",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Ingénieur/Ingénieure civil",
"parent":"juridique",
"percent":"inconnu"},{"name":"Je suis conformiste, je me plie facilement aux règlements du milieu où je vis",
"parent":"juridique",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"dynamique",
"parent":"R",
"children":[{"name":"technologie",
"parent":"dynamique",
"children":[{"name":"Ma capacité à utiliser des outils, des objets, des machines avec précision",
"parent":"technologie",
"percent":"inconnu"},{"name":"Ma capacité à installer et à manipuler divers outils, machines ou appareils",
"parent":"technologie",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"santé",
"parent":"dynamique",
"children":[{"name":"Mon aptitude à lire des plans",
"parent":"santé",
"percent":"inconnu"},{"name":"La rapidité de mes réflexes",
"parent":"santé",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Ma capacité à comprendre le fonctionnement des éléments de base de tout ouvrage mécanique, électrique (turbine, moteur, pompe...)",
"parent":"dynamique",
"percent":"inconnu"},{"name":"Ma capacité à faire des réparations",
"parent":"dynamique",
"percent":"inconnu"},{"name":"Mon habilité dans les mouvements demandant à voir et à manipuler en même temps",
"parent":"dynamique",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"}],
"color":"#F3C0C0",
"percent":"40%"},{"name":"I",
"parent":"",
"children":[{"name":"scientifiques",
"parent":"I",
"children":[{"name":"scientifiques",
"parent":"scientifiques",
"children":[{"name":"Lire des revues scientifiques ou spécialisées",
"parent":"scientifiques",
"color":"#00FF00",
"percent":"100%"},{"name":"Suivre des cours de science",
"parent":"scientifiques",
"percent":"inconnu"},{"name":"Faire des recherches scientifiques pour satisfaire ma curiosité",
"parent":"scientifiques",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Chercheur/Chercheuse scientifique",
"parent":"scientifiques",
"color":"#00FF00",
"percent":"100%"},{"name":"Astronome (étudie le mouvement des astres dans le ciel)",
"parent":"scientifiques",
"percent":"inconnu"},{"name":"Résoudre des problèmes mathématiques",
"parent":"scientifiques",
"percent":"inconnu"},{"name":"Créer une nouvelle source d'énergie",
"parent":"scientifiques",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"physique",
"parent":"I",
"children":[{"name":"médicale",
"parent":"physique",
"children":[{"name":"Etablir un diagnostic de maladie chez des patients",
"parent":"médicale",
"percent":"inconnu"},{"name":"Planifier des soins ou des traitements à donner à des patients",
"parent":"médicale",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"physique",
"parent":"physique",
"children":[{"name":"Ingénieur/Ingénieure en chimie, physique",
"parent":"physique",
"percent":"inconnu"},{"name":"Technicien/Technicienne en chimie analytique (analyse de nouveaux produits chimiques)",
"parent":"physique",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"laboratoire",
"parent":"physique",
"children":[{"name":"Mon habilité à faire des travaux de laboratoire",
"parent":"laboratoire",
"percent":"inconnu"},{"name":"Mes capacités en sciences (biologie, physique, chimie)",
"parent":"laboratoire",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Biologiste",
"parent":"physique",
"color":"#FF0000",
"percent":"0%"},{"name":"Faire des expériences sur le comportement des animaux",
"parent":"physique",
"percent":"inconnu"},{"name":"Effectuer des analyses en laboratoire",
"parent":"physique",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"laboratoire",
"parent":"I",
"children":[{"name":"technicien",
"parent":"laboratoire",
"children":[{"name":"Technicien/Technicienne en laboratoire médical",
"parent":"technicien",
"percent":"inconnu"},{"name":"Technicien/Technicienne en radiologie (rayon X)",
"parent":"technicien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"botaniste",
"parent":"laboratoire",
"children":[{"name":"Botaniste",
"parent":"botaniste",
"percent":"inconnu"},{"name":"Expérimenter de nouvelles cultures végétales",
"parent":"botaniste",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"industriels",
"parent":"laboratoire",
"children":[{"name":"Produire un rapport sur l'évolution économique d'une région",
"parent":"industriels",
"percent":"inconnu"},{"name":"Technicien/Technicienne en transformation des produits forestiers",
"parent":"industriels",
"percent":"inconnu"},{"name":"Technicien/Technicienne en procédés métallurgiques (spécialiste dans la transformation des métaux)",
"parent":"industriels",
"percent":"inconnu"},{"name":"Economiste",
"parent":"industriels",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Météorologiste",
"parent":"laboratoire",
"color":"#FF0000",
"percent":"0%"},{"name":"Technicien/Technicienne en dessin conception mécanique",
"parent":"laboratoire",
"percent":"inconnu"},{"name":"Médecin ou vétérinaire",
"parent":"laboratoire",
"percent":"inconnu"},{"name":"Concevoir un plan de reboisement",
"parent":"laboratoire",
"percent":"inconnu"},{"name":"Concevoir un barrage électrique, un point, une autoroute, etc",
"parent":"laboratoire",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"pratique",
"parent":"I",
"children":[{"name":"technologie",
"parent":"pratique",
"children":[{"name":"Mon habilité à apprendre des nouveaux sujets avec facilité et avec aise",
"parent":"technologie",
"color":"#00FF00",
"percent":"100%"},{"name":"Ma capacité d'analyse",
"parent":"technologie",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"calcul",
"parent":"pratique",
"children":[{"name":"Mon habilité à solutionner des problèmes abstraits",
"parent":"calcul",
"percent":"inconnu"},{"name":"Ma capacité à me concentrer sur une tâche abstraite",
"parent":"calcul",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"naturel",
"parent":"pratique",
"children":[{"name":"J'ai l'esprit inventif : il m'arrive souvent de trouver une solution originale et efficace à un problème",
"parent":"naturel",
"percent":"inconnu"},{"name":"Je suis d'un naturel très curieux sur à peu près tout",
"parent":"naturel",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Faire des recherches sur les civilisations anciennes",
"parent":"pratique",
"color":"#00FF00",
"percent":"100%"},{"name":"Ma capacité de synthèse",
"parent":"pratique",
"percent":"inconnu"},{"name":"Mon talent à rédiger clairement un texte",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à saisir et comprendre des directives rapidement",
"parent":"pratique",
"percent":"inconnu"},{"name":"J'ai l'esprit critique et n'accepte pas facilement n'importe quelle idée",
"parent":"pratique",
"percent":"inconnu"},{"name":"J'aime la précision dans tout ce que je fais",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je tiens à mon indépendance sur le plan des idées, du travail, etc",
"parent":"pratique",
"percent":"inconnu"},{"name":"Avant toute décision, je réunis le maximum d'information possible",
"parent":"pratique",
"percent":"inconnu"},{"name":"J'analyse les idées, les événements, ce qui se passe autour de moi",
"parent":"pratique",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"informatique",
"parent":"I",
"children":[{"name":"informatique",
"parent":"informatique",
"children":[{"name":"Faire de la programmation informatique",
"parent":"informatique",
"color":"#00FF00",
"percent":"100%"},{"name":"Technicien/Technicienne en informatique",
"parent":"informatique",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Mes aptitudes en mathématiques",
"parent":"informatique",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"psychologique",
"parent":"I",
"children":[{"name":"Les gens me considèrent comme une personne intellectuelle plutôt qu'émotive",
"parent":"psychologique",
"color":"#00FF00",
"percent":"100%"},{"name":"Je demeure réservé dans l'expression de mes opinions, de mes sentiments et de mes actes",
"parent":"psychologique",
"percent":"inconnu"},{"name":"Dans mes activités scolaires ou autres, je me montre méthodique et rationnel/le",
"parent":"psychologique",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"}],
"color":"#5FF95F",
"percent":"80%"},{"name":"A",
"parent":"",
"children":[{"name":"musicien",
"parent":"A",
"children":[{"name":"dessinateur",
"parent":"musicien",
"children":[{"name":"Imaginer une bande dessinée",
"parent":"dessinateur",
"color":"#00FF00",
"percent":"100%"},{"name":"Graphiste",
"parent":"dessinateur",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"musicien",
"parent":"musicien",
"children":[{"name":"Jouer dans un orchestre",
"parent":"musicien",
"color":"#00FF00",
"percent":"100%"},{"name":"Musicien/Musicienne",
"parent":"musicien",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Interpète",
"parent":"musicien",
"percent":"inconnu"},{"name":"Chanteur/Chanteuse",
"parent":"musicien",
"percent":"inconnu"},{"name":"Les lendemains ne m'inquiètent pas : je vis au jour le jour",
"parent":"musicien",
"percent":"inconnu"},{"name":"Je suis porté/e à tout idéaliser et à chercher la perfection",
"parent":"musicien",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"intelligible",
"parent":"A",
"children":[{"name":"parole",
"parent":"intelligible",
"children":[{"name":"Imaginer de nouvelles façons de faire les choses",
"parent":"parole",
"color":"#00FF00",
"percent":"100%"},{"name":"Ma capacité à travailler par moi-même",
"parent":"parole",
"percent":"inconnu"},{"name":"J'ai besoin de beaucoup de liberté d'action dans tout ce que j'entreprends",
"parent":"parole",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"ecrivain",
"parent":"intelligible",
"children":[{"name":"Ecrivain/Ecrivaine",
"parent":"ecrivain",
"percent":"inconnu"},{"name":"Ecrire des romans, des articles de journaux",
"parent":"ecrivain",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"comédien",
"parent":"intelligible",
"children":[{"name":"Comédien/Comédienne",
"parent":"comédien",
"percent":"inconnu"},{"name":"Interpréter ou mettre en scène une pièce de théâtre",
"parent":"comédien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Apprendre des langues",
"parent":"intelligible",
"percent":"inconnu"},{"name":"Ma capacité d'inventer, de créer, de concevoir",
"parent":"intelligible",
"percent":"inconnu"},{"name":"Ecrire des critiques de pièces de théâtre, de films, de livres, etc",
"parent":"intelligible",
"percent":"inconnu"},{"name":"J'agis et je pense souvent de façon non conformiste, c'est-à-dire différemment des autres",
"parent":"intelligible",
"percent":"inconnu"},{"name":"Dans mes travaux, je fais preuve d'originalité, d'imagination et d'intuition",
"parent":"intelligible",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"minutieux",
"parent":"A",
"children":[{"name":"photographe",
"parent":"minutieux",
"children":[{"name":"Faire de la photographie publicitaire ou artistique",
"parent":"photographe",
"percent":"inconnu"},{"name":"Photographe",
"parent":"photographe",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"architecte",
"parent":"minutieux",
"children":[{"name":"Peindre des tableaux pour une exposition",
"parent":"architecte",
"percent":"inconnu"},{"name":"Architecte",
"parent":"architecte",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"journaliste",
"parent":"minutieux",
"children":[{"name":"Journaliste",
"parent":"journaliste",
"percent":"inconnu"},{"name":"Décorateur/Décoratrice d'intérieur",
"parent":"journaliste",
"percent":"inconnu"},{"name":"Embellir l'environnement",
"parent":"journaliste",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Créer des pièces d'artisanat",
"parent":"minutieux",
"percent":"inconnu"},{"name":"Mes émotions sont généralement intenses",
"parent":"minutieux",
"percent":"inconnu"},{"name":"Je suis d'un caractère impulsif",
"parent":"minutieux",
"percent":"inconnu"},{"name":"Mes amis/es me considèrent compliqué/e",
"parent":"minutieux",
"percent":"inconnu"},{"name":"Dessiner des meubles, des plans, des décors, etc",
"parent":"minutieux",
"color":"#00FF00",
"percent":"100%"}],
"color":"#F0F0F0",
"percent":"50%"},{"name":"artiste",
"parent":"A",
"children":[{"name":"fleuriste",
"parent":"artiste",
"children":[{"name":"Fleuriste",
"parent":"fleuriste",
"percent":"inconnu"},{"name":"Concevoir et réaliser des arrangements de fleurs",
"parent":"fleuriste",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"création",
"parent":"artiste",
"children":[{"name":"Directeur/Directrice de publicité",
"parent":"création",
"percent":"inconnu"},{"name":"Créer une nouvelle coupe de cheveux ou de nouveau vêtement",
"parent":"création",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Mannequin",
"parent":"artiste",
"percent":"inconnu"},{"name":"Professeur/e de dessin",
"parent":"artiste",
"percent":"inconnu"},{"name":"Compositeur/Compositrice (musique)",
"parent":"artiste",
"color":"#00FF00",
"percent":"100%"},{"name":"Mon habilité à observer les légères différences de forme ou de teinte",
"parent":"artiste",
"percent":"inconnu"},{"name":"J'exprime mes sentiments par l'entremise de la musique, des beaux-arts, de la poésie, etc",
"parent":"artiste",
"percent":"inconnu"},{"name":"Dans mes diverses activités, je manque souvent d'ordre",
"parent":"artiste",
"percent":"inconnu"},{"name":"Décorer des vitrines de magasins",
"parent":"artiste",
"percent":"inconnu"}],
"color":"#F0F0F0",
"percent":"50%"},{"name":"pratique",
"parent":"A",
"children":[{"name":"Mon aptitude dans les arts de la scène (théâtre, danse, musique, etc)",
"parent":"pratique",
"percent":"inconnu"},{"name":"Mon aptitude en arts plastiques (dessin, sculpture, peinture, etc)",
"parent":"pratique",
"color":"#F0F0F0",
"percent":"50%"},{"name":"Ma capacité à apprendre des langues, y compris ma langue maternelle",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à me représenter la forme d'objets en deux ou trois dimensions",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à accepter la critique",
"parent":"pratique",
"percent":"inconnu"},{"name":"Mon aptitude à exprimer concrètement mes idées créatrices dans le médium de mon choix (musique, écriture, danse, dessin, etc)",
"parent":"pratique",
"percent":"inconnu"},{"name":"Mon aptitude à tolérer l'insécurité (peur du lendemain)",
"parent":"pratique",
"percent":"inconnu"}],
"color":"#F0F0F0",
"percent":"50%"}],
"color":"#85F685",
"percent":"72%"},{"name":"S",
"parent":"",
"children":[{"name":"scolaire",
"parent":"S",
"children":[{"name":"sociale",
"parent":"scolaire",
"children":[{"name":"Aider les délinquants à se réhabiliter",
"parent":"sociale",
"percent":"inconnu"},{"name":"Travailleur/Travailleuse sociale",
"parent":"sociale",
"percent":"inconnu"},{"name":"Agent/Agente à l'aide sociale",
"parent":"sociale",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"malades",
"parent":"scolaire",
"children":[{"name":"S'occuper des personnes handicapées physiquement",
"parent":"malades",
"percent":"inconnu"},{"name":"Soigner un malade",
"parent":"malades",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"technicien",
"parent":"scolaire",
"children":[{"name":"Technicien/Technicienne en loisirs",
"parent":"technicien",
"percent":"inconnu"},{"name":"Technicien/Technicienne en réadaptation physique",
"parent":"technicien",
"percent":"inconnu"},{"name":"Technicien/Technicienne policier/policière",
"parent":"technicien",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"infirmier",
"parent":"scolaire",
"children":[{"name":"Technicien/Technicienne en hygiène dentaire",
"parent":"infirmier",
"percent":"inconnu"},{"name":"Médecin généraliste (de famille)",
"parent":"infirmier",
"percent":"inconnu"},{"name":"Infirmier/Infirmière auxiliaire",
"parent":"infirmier",
"color":"#FF0000",
"percent":"0%"},{"name":"Esthéticien/Esthéticienne",
"parent":"infirmier",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"services",
"parent":"scolaire",
"children":[{"name":"Offrir un service d'aide téléphonique",
"parent":"services",
"percent":"inconnu"},{"name":"Consulter les gens sur leurs besoins (sondage, enquête, etc)",
"parent":"services",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"enfants",
"parent":"scolaire",
"children":[{"name":"enfants",
"parent":"enfants",
"children":[{"name":"Travailler dans une garderie d'enfants",
"parent":"enfants",
"percent":"inconnu"},{"name":"Technicien/Technicienne en garderie d'enfants",
"parent":"enfants",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"information",
"parent":"scolaire",
"children":[{"name":"Orthopédagogue (correction des troubles de l'apprentissage)",
"parent":"information",
"percent":"inconnu"},{"name":"Tenir un kiosque d'informations",
"parent":"information",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Agir comme hôte/hôtesse lors d'un congrès",
"parent":"scolaire",
"percent":"inconnu"},{"name":"Barmaid/Barman",
"parent":"scolaire",
"percent":"inconnu"},{"name":"Directeur/Directrice du personnel",
"parent":"scolaire",
"percent":"inconnu"},{"name":"Professeur/e à l'élémentaire",
"parent":"scolaire",
"percent":"inconnu"},{"name":"S'engager dans des organismes sociaux ou communautaires",
"parent":"scolaire",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"jeunes",
"parent":"S",
"children":[{"name":"Organiser des loisirs",
"parent":"jeunes",
"color":"#00FF00",
"percent":"100%"},{"name":"On me considère généreux/se",
"parent":"jeunes",
"color":"#00FF00",
"percent":"100%"},{"name":"Enseigner aux enfants, aux adolescents, aux adultes",
"parent":"jeunes",
"percent":"inconnu"},{"name":"Animer un groupe",
"parent":"jeunes",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"raisonnable",
"parent":"S",
"children":[{"name":"parole",
"parent":"raisonnable",
"children":[{"name":"Echanger des idées avec d'autres personnes",
"parent":"parole",
"color":"#00FF00",
"percent":"100%"},{"name":"Je sais me montrer souple, conciliant/e",
"parent":"parole",
"percent":"inconnu"},{"name":"Quand un problème se pose, je préfère le régler par la discussion et l'entente avec les gens qui m'entourent",
"parent":"parole",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"lecteur",
"parent":"raisonnable",
"children":[{"name":"Ma capacité à aider les autres, à les comprendre, à les écouter",
"parent":"lecteur",
"percent":"inconnu"},{"name":"Ma capacité à être touché/e par les émotions des autres tout en demeurant objectif (empathie)",
"parent":"lecteur",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"arbitre",
"parent":"raisonnable",
"children":[{"name":"Mon aptitude à travailler en équipe",
"parent":"arbitre",
"percent":"inconnu"},{"name":"Ma faculté de prévoir, de deviner (intuition)",
"parent":"arbitre",
"color":"#F0F0F0",
"percent":"50%"}],
"color":"#F0F0F0",
"percent":"50%"},{"name":"bienveillant",
"parent":"raisonnable",
"children":[{"name":"Les gens me qualifient de sociable et sympathique",
"parent":"bienveillant",
"percent":"inconnu"},{"name":"Mes amis/es me considèrent comme bienveillant et compréhensif/ve",
"parent":"bienveillant",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"protection",
"parent":"raisonnable",
"children":[{"name":"Je suis d'un naturel serviable",
"parent":"protection",
"percent":"inconnu"},{"name":"Généralement, les gens peuvent compter sur ma coopération",
"parent":"protection",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"responsables",
"parent":"raisonnable",
"children":[{"name":"J'accepte et j'assume les responsabilités",
"parent":"responsables",
"percent":"inconnu"},{"name":"Aider les gens à prendre conscience de leurs possibilités",
"parent":"responsables",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Mon sens de l'organisation",
"parent":"raisonnable",
"percent":"inconnu"},{"name":"Ma capacité à communiquer avec les autres",
"parent":"raisonnable",
"percent":"inconnu"}],
"color":"#78F778",
"percent":"75%"},{"name":"bibliothécaire",
"parent":"S",
"children":[{"name":"Bibliothécaire",
"parent":"bibliothécaire",
"color":"#00FF00",
"percent":"100%"},{"name":"Rencontrer des gens pour les aider à résoudre leurs problèmes personnels",
"parent":"bibliothécaire",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"sensible",
"parent":"S",
"children":[{"name":"discussion",
"parent":"sensible",
"children":[{"name":"Ma capacité à expliquer les choses clairement",
"parent":"discussion",
"percent":"inconnu"},{"name":"Ma capacité à diriger des interactions dans un groupe (animation)",
"parent":"discussion",
"color":"#F0F0F0",
"percent":"50%"}],
"color":"#F0F0F0",
"percent":"50%"},{"name":"Ma capacité à réagir correctement devant les situations qui se présentent (équilibre émotionnel)",
"parent":"sensible",
"color":"#FF0000",
"percent":"0%"},{"name":"Ma capacité à maintenir des relations suivies avec les gens",
"parent":"sensible",
"percent":"inconnu"},{"name":"Dans l'action comme dans la façon de m'exprimer, je montre de la délicatesse",
"parent":"sensible",
"percent":"inconnu"},{"name":"Dans la majorité des circonstances, je suis perspicace, clairvoyant/e",
"parent":"sensible",
"percent":"inconnu"}],
"color":"#F77878",
"percent":"25%"}],
"color":"#A0F5A0",
"percent":"66%"},{"name":"E",
"parent":"",
"children":[{"name":"marché",
"parent":"E",
"children":[{"name":"financier",
"parent":"marché",
"children":[{"name":"Mon talent pour vendre",
"parent":"financier",
"percent":"inconnu"},{"name":"Mon sens des affaires",
"parent":"financier",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"marché",
"parent":"marché",
"children":[{"name":"Lancer un nouveau produit",
"parent":"marché",
"percent":"inconnu"},{"name":"Mettre sur pied son propre commerce",
"parent":"marché",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Vendre un produit ou une idée",
"parent":"marché",
"color":"#FF0000",
"percent":"0%"},{"name":"Propriétaire d'un commerce",
"parent":"marché",
"percent":"inconnu"},{"name":"Lancer un concours de promotion, une campagne de publicité",
"parent":"marché",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"financier",
"parent":"E",
"children":[{"name":"gestion",
"parent":"financier",
"children":[{"name":"S'engager à fond dans des activités sociales au travail ou dans son quartier",
"parent":"gestion",
"percent":"inconnu"},{"name":"Fonder un club de consommateurs, une association de protection de l'environnement, une activité de récupération du papier",
"parent":"gestion",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"agent",
"parent":"financier",
"children":[{"name":"Agent/Agente de bord",
"parent":"agent",
"percent":"inconnu"},{"name":"Chef de rayons de supermarché",
"parent":"agent",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"financier",
"parent":"financier",
"children":[{"name":"publicité",
"parent":"financier",
"children":[{"name":"Agent/Agente de publicité (marketing)",
"parent":"publicité",
"percent":"inconnu"},{"name":"Directeur/Directrice des ventes",
"parent":"publicité",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"acheteur",
"parent":"financier",
"children":[{"name":"Acheter pour le compte d'un grand magasin",
"parent":"acheteur",
"percent":"inconnu"},{"name":"Acheteur/Acheteuse",
"parent":"acheteur",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Agent/Agente de voyage",
"parent":"financier",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"assurances",
"parent":"financier",
"children":[{"name":"assurances",
"parent":"assurances",
"children":[{"name":"Courtier/Courtière en immeubles",
"parent":"assurances",
"percent":"inconnu"},{"name":"Vendeur/Vendeuse d'assurances",
"parent":"assurances",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Commis-vendeur/vendeuse",
"parent":"assurances",
"percent":"inconnu"},{"name":"Diriger une entreprise financière",
"parent":"assurances",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Technicien/Technicienne en tourisme",
"parent":"financier",
"percent":"inconnu"},{"name":"Gérant/Gérante d'hôtel",
"parent":"financier",
"percent":"inconnu"},{"name":"Marchander",
"parent":"financier",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"professionnels",
"parent":"E",
"children":[{"name":"Directeur/Directrice d'une entreprise",
"parent":"professionnels",
"percent":"inconnu"},{"name":"L'ambition ne m'effraie pas",
"parent":"professionnels",
"percent":"inconnu"},{"name":"Diriger du personnel",
"parent":"professionnels",
"percent":"inconnu"},{"name":"Faire de la sélection d'autres candidats",
"parent":"professionnels",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"pratique",
"parent":"E",
"children":[{"name":"engagements",
"parent":"pratique",
"children":[{"name":"Mon habilité à diriger, à mener les autres",
"parent":"engagements",
"percent":"inconnu"},{"name":"Mon talent pour persuader les gens",
"parent":"engagements",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"protection",
"parent":"pratique",
"children":[{"name":"Ma facilité à m'exprimer en public",
"parent":"protection",
"percent":"inconnu"},{"name":"Ma capacité à prendre une décision seul/e",
"parent":"protection",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"clientèle",
"parent":"pratique",
"children":[{"name":"Mon habilité à me faire valoir en société",
"parent":"clientèle",
"percent":"inconnu"},{"name":"Ma capacité à demeurer enthousiaste et énergique même en situation difficile",
"parent":"clientèle",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Mon aptitude à défendre une cause",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à être le/la premier/ère à proposer ou à faire quelque chose",
"parent":"pratique",
"percent":"inconnu"},{"name":"Même dans des situations critiques ou tendues, je sais prendre l'initiative nécessaire",
"parent":"pratique",
"percent":"inconnu"},{"name":"L'aventure m'attire beaucoup",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je suis sociable et populaire, je parle à tout le monde",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je suis un/e optimiste né/e",
"parent":"pratique",
"percent":"inconnu"},{"name":"Donner des conférences",
"parent":"pratique",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"responsable",
"parent":"E",
"children":[{"name":"responsable",
"parent":"responsable",
"children":[{"name":"Gérer un projet spécial",
"parent":"responsable",
"percent":"inconnu"},{"name":"J'aime être responsable d'activités",
"parent":"responsable",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Défendre une cause",
"parent":"responsable",
"percent":"inconnu"},{"name":"Je défends toujours mes opinions",
"parent":"responsable",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"avocat",
"parent":"E",
"children":[{"name":"politicien",
"parent":"avocat",
"children":[{"name":"Faire de la politique (municipal, scolaire, provincial)",
"parent":"politicien",
"color":"#FF0000",
"percent":"0%"},{"name":"Politicien/Politicienne",
"parent":"politicien",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"Avocat/Avocate",
"parent":"avocat",
"percent":"inconnu"},{"name":"Généralement, je suis sûr/e de moi",
"parent":"avocat",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"judicieux",
"parent":"E",
"children":[{"name":"Mes impulsions me dictent souvent ma conduite",
"parent":"judicieux",
"percent":"inconnu"},{"name":"Il m'arrive souvent de me montrer autoritaire",
"parent":"judicieux",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"C",
"parent":"",
"children":[{"name":"comptable",
"parent":"C",
"children":[{"name":"financiers",
"parent":"comptable",
"children":[{"name":"financiers",
"parent":"financiers",
"children":[{"name":"Etablir des comptes-rendus des dépenses",
"parent":"financiers",
"percent":"inconnu"},{"name":"Vérifier des rapports financiers",
"parent":"financiers",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"comptable",
"parent":"financiers",
"children":[{"name":"Technicien/Technicienne en finance (comptabilité)",
"parent":"comptable",
"percent":"inconnu"},{"name":"Commis-comptable",
"parent":"comptable",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Expert/Experte en impôt",
"parent":"financiers",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"judiciaire",
"parent":"comptable",
"children":[{"name":"Tenir une caisse dans un établissement commercial ou financier",
"parent":"judiciaire",
"percent":"inconnu"},{"name":"Commis au service de la paie",
"parent":"judiciaire",
"percent":"inconnu"},{"name":"Recevoir et faire des appels téléphoniques",
"parent":"judiciaire",
"percent":"inconnu"},{"name":"Préparer des procès verbaux de réunions",
"parent":"judiciaire",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"comptable",
"parent":"comptable",
"children":[{"name":"banque",
"parent":"comptable",
"children":[{"name":"Dactylographier ou réviser des lettres ou des rapports",
"parent":"banque",
"percent":"inconnu"},{"name":"Caissier/Caissière de banque",
"parent":"banque",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"comptable",
"parent":"comptable",
"children":[{"name":"Commis de bureau",
"parent":"comptable",
"percent":"inconnu"},{"name":"Technicien/Technicienne judiciaire (aux greffes)",
"parent":"comptable",
"percent":"inconnu"},{"name":"Sténo-dactylo",
"parent":"comptable",
"percent":"inconnu"},{"name":"Gérant/Gérante du service de crédits",
"parent":"comptable",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"médicale",
"parent":"comptable",
"children":[{"name":"Secrétaire de service juridique, médical",
"parent":"médicale",
"percent":"inconnu"},{"name":"Archiviste médical",
"parent":"médicale",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Réceptionniste",
"parent":"comptable",
"percent":"inconnu"},{"name":"Commis aux renseignements",
"parent":"comptable",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"D’une journée à l’autre, j’aime exécuter des tâches semblables",
"parent":"comptable",
"color":"#FF0000",
"percent":"0%"}],
"color":"#FF0000",
"percent":"0%"},{"name":"informatique",
"parent":"C",
"children":[{"name":"informatique",
"parent":"informatique",
"children":[{"name":"Opérateur/Opératrice en informatique",
"parent":"informatique",
"percent":"inconnu"},{"name":"Faire des opérations mathématiques pour préparer des rapports ou faire la tenue de livres",
"parent":"informatique",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Faire fonctionner toutes sortes de machines de bureau",
"parent":"informatique",
"percent":"inconnu"},{"name":"Je suis timide et je préfère garder pour moi mes sentiments, mes émotions et mes idées",
"parent":"informatique",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"scientifiques",
"parent":"C",
"children":[{"name":"restauration",
"parent":"scientifiques",
"children":[{"name":"Bibliotechnicien/Bibliotechnicienne",
"parent":"restauration",
"percent":"inconnu"},{"name":"Faire un inventaire et passer des commandes",
"parent":"restauration",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"Maintenir un système de classement (archive, bibliothèque, bureau, etc)",
"parent":"scientifiques",
"color":"#00FF00",
"percent":"100%"},{"name":"Classer des lettres, des rapports, des dossiers",
"parent":"scientifiques",
"percent":"inconnu"},{"name":"Manipuler un appareil à traitement de textes",
"parent":"scientifiques",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"pratique",
"parent":"C",
"children":[{"name":"consciencieux",
"parent":"pratique",
"children":[{"name":"Mon aptitude en français",
"parent":"consciencieux",
"percent":"inconnu"},{"name":"Dans mes travaux, je suis persistant/e et consciencieux/se",
"parent":"consciencieux",
"percent":"inconnu"}],
"color":"null",
"percent":"inconnu"},{"name":"Mon aptitude à travailler avec précision",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à observer les détails",
"parent":"pratique",
"percent":"inconnu"},{"name":"Ma capacité à comprendre et à exécuter des instructions",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je travaille avec beaucoup de soin",
"parent":"pratique",
"percent":"inconnu"},{"name":"J’agis méthodiquement dans tout ce que je fais",
"parent":"pratique",
"percent":"inconnu"},{"name":"Je suis maître de moi, d’un calme exemplaire",
"parent":"pratique",
"color":"#FF0000",
"percent":"0%"},{"name":"Garder mon espace de travail à l’ordre",
"parent":"pratique",
"percent":"inconnu"}],
"color":"#FF0000",
"percent":"0%"},{"name":"rigoureuses",
"parent":"C",
"children":[{"name":"correcteurs",
"parent":"rigoureuses",
"children":[{"name":"S’adonner à des activités régulières",
"parent":"correcteurs",
"percent":"inconnu"},{"name":"Effectuer des tâches clairement définies",
"parent":"correcteurs",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"lecteur",
"parent":"rigoureuses",
"children":[{"name":"J’aime recevoir des instructions bien claires qui me permettent de savoir exactement ce qu’on attend de moi",
"parent":"lecteur",
"percent":"inconnu"},{"name":"Je m’efforce de me montrer compétent dans ce qu’on exige de moi",
"parent":"lecteur",
"color":"#00FF00",
"percent":"100%"}],
"color":"#00FF00",
"percent":"100%"},{"name":"L’esprit concret et pratique me guide",
"parent":"rigoureuses",
"percent":"inconnu"},{"name":"J’obéis facilement aux règlements et aux ordres",
"parent":"rigoureuses",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"},{"name":"raisonnables",
"parent":"C",
"children":[{"name":"Mon aptitude à travailler avec les chiffres",
"parent":"raisonnables",
"color":"#00FF00",
"percent":"100%"},{"name":"Ma capacité à disposer les choses selon le rang, la place qui leur convient",
"parent":"raisonnables",
"percent":"inconnu"},{"name":"Ma capacité à tenir des dossiers et des registres à jour",
"parent":"raisonnables",
"percent":"inconnu"},{"name":"Mon aptitude à comprendre les structures administratives",
"parent":"raisonnables",
"percent":"inconnu"},{"name":"Ma capacité à me conformer aux règles établies",
"parent":"raisonnables",
"percent":"inconnu"},{"name":"Ma capacité à m’adapter à un travail routinier",
"parent":"raisonnables",
"percent":"inconnu"}],
"color":"#00FF00",
"percent":"100%"}],
"color":"#6AF86A",
"percent":"77%"}],
"color":"#ACF4AC",
"percent":"64%"}
];
// ************** Generate the tree diagram	 *****************
var margin = {top: 10, right: 20, bottom: 10, left: 120},
	width = 1250 - margin.right - margin.left,
	height = 650 - margin.top - margin.bottom;
	
var i = 0,
	duration = 750,
	root;
var tree = d3.layout.tree()
	.size([height, width]);
var diagonal = d3.svg.diagonal()
	.projection(function(d) { return [d.y, d.x]; });
var svg = d3.select("body").append("svg")
	.attr("width", width + margin.right + margin.left)
	.attr("height", height + margin.top + margin.bottom)
  .append("g")
	.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
root = treeData[0];
root.x0 = height / 2;
root.y0 = 0;
  
var tooltip = d3.select("body")
    .append("div")
    .style("position", "absolute")
    .style("z-index", "10")
    .style("visibility", "hidden")
    .style("border", "1px solid #333")
    .style("background-color", "#161616")
    .style("border-radius", "3px")
    .style("padding", "2px")
    .style("color", "#fff")
    .style("font-size", "12px Arial")
    .text("a simple tooltip");

update(root);
d3.select(self.frameElement).style("height", "500px");
function update(source) {
  // Compute the new tree layout.
  //var nodes = tree.nodes(root).reverse(), // NOLEAF
  var nodes = tree.nodes(root).reverse().filter(function(d) {return root._root || d.children || d._children}),
	  links = tree.links(nodes);
  // Normalize for fixed-depth.
  //nodes.forEach(function(d) { d.y = d.depth * 180; }); // NOLEAF
  nodes.forEach(function(d) { root._root ? d.y = d.depth * 180 : d.y = d.depth * 220; });
  // Update the nodes…
  var node = svg.selectAll("g.node")
	  .data(nodes, function(d) { return d.id || (d.id = ++i); });
  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
	  .attr("class", "node")
	  .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
	  .on("click", click)
      .on("mouseover", function(d){return tooltip.style("visibility", "visible").text(d.percent);})
      .on("mousemove", function(d){return tooltip.style("top",
          (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px").text(d.percent);})
      .on("mouseout", function(){return tooltip.style("visibility", "hidden");});

  nodeEnter.append("circle")
	  .attr("r", 1e-6)
	  .style("fill", function(d) { return d._root ? "steelblue" : "#fff"; });
  nodeEnter.append("text")
	  .attr("x", function(d) { return d.children || d._children ? -13 : 13; })
	  .attr("dy", ".35em")
	  .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
	  .text(function(d) { return d.name; })
	  .style("fill-opacity", 1e-6);
  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
	  .duration(duration)
	  .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });
  nodeUpdate.select("circle")
	  .attr("r", 10)
      .style("stroke", function(d) { return d.color; }) // TEST
	  .style("fill", function(d) { return d._root ? "steelblue" : "#fff"; });
  nodeUpdate.select("text")
	  .style("fill-opacity", 1);
  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
	  .duration(duration)
	  .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
	  .remove();
  nodeExit.select("circle")
	  .attr("r", 1e-6);
  nodeExit.select("text")
	  .style("fill-opacity", 1e-6);
  // Update the links…
  var link = svg.selectAll("path.link")
	  .data(links, function(d) { return d.target.id; });
  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
	  .attr("class", "link")
      .style("stroke", function(d) { return d.target.color; })
	  .attr("d", function(d) {
		var o = {x: source.x0, y: source.y0};
		return diagonal({source: o, target: o});
	  });
  // Transition links to their new position.
  link.transition()
	  .duration(duration)
	  .attr("d", diagonal);
  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
	  .duration(duration)
	  .attr("d", function(d) {
		var o = {x: source.x, y: source.y};
		return diagonal({source: o, target: o});
	  })
	  .remove();
  if (!root._root) { // NOLEAF
     link.filter(function(d) {return !(d.target.children || d.target._children)}).remove();
  }
  // Stash the old positions for transition.
  nodes.forEach(function(d) {
	d.x0 = d.x;
	d.y0 = d.y;
  });
}
// Toggle children on click.
function click(d) {
  if (d==root && d._root) {
    root = d._root;
    d._root = null;
  } else {
	d._root = root;
	root=d;
  }
  update(root);
}
</script>
	
  </body>
</html>
